<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Magical Christmas Wish ğŸ„âœ¨</title>
<style>
  body, html { margin:0; padding:0; font-family: Arial,sans-serif; background: linear-gradient(to bottom, #1b2735, #090a0f); color:white; overflow-x:hidden; height:100%; }
  .snowflake { position:absolute; top:-10px; color:white; font-size:1em; user-select:none; z-index:9999; pointer-events:none; animation: fall linear infinite; }
  @keyframes fall { 0% { transform: translateY(0); } 100% { transform: translateY(100vh); } }

  #hero { display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; height:100vh; padding:20px; }
  h1 { font-size:2em; margin-bottom:15px; }
  p { margin-bottom:25px; font-size:1.2em; }
  input[type=text] { padding:10px; margin:5px; border-radius:8px; border:none; width:200px; font-size:1em; }
  button { padding:10px 20px; border-radius:8px; border:none; background-color:#ff3c3c; color:white; font-size:1em; cursor:pointer; margin-top:10px; }
  button:hover { background-color:#ff6363; }

  #wishCard { display:none; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding:30px; border-radius:15px; margin-top:20px; animation: fadeIn 1s ease-in-out forwards; max-width:90%; }
  @keyframes fadeIn { 0% { opacity:0; transform:scale(0.8); } 100% { opacity:1; transform:scale(1); } }

  #giftContainer { display:none; position:relative; margin-top:20px; }
  #giftBox { width:100px; height:100px; background:red; border-radius:15px; position:relative; cursor:pointer; margin:0 auto; animation: bounce 1s ease infinite alternate; }
  #giftBox::before { content:""; position:absolute; width:100%; height:10px; background:gold; top:0; left:0; border-radius:5px; }
  #giftBox.open { animation:none; background:gold; }
  #giftMessage { display:none; text-align:center; margin-top:20px; font-size:1.2em; font-weight:bold; color:#ffeb3b; }
  @keyframes bounce { 0% { transform: translateY(0); } 100% { transform: translateY(-10px); } }

  .confetti-piece { position:absolute; width:10px; height:10px; opacity:0.9; }

  /* Share popup */
  #sharePopup {
    display:none;
    position:fixed;
    top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.85);
    color:white;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    text-align:center;
    z-index:10000;
    padding:20px;
  }
  #sharePopup button {
    margin-top:20px;
    padding:10px 20px;
    background:#28a745;
    color:white;
    font-size:1em;
    border:none;
    border-radius:8px;
    cursor:pointer;
  }
  #sharePopup button:hover { background:#218838; }
  #countdown { font-size:1.5em; margin-top:10px; color:#ffeb3b; }

</style>
</head>
<body>

<div id="hero">
  <h1>ğŸ… Enter Your Names for a Magical Christmas Wish!</h1>
  <p>Make your friend smile this Christmas! ğŸ„âœ¨</p>
  <input type="text" id="yourName" placeholder="Your Name" required>
  <input type="text" id="friendName" placeholder="Friend's Name" required>
  <button id="revealBtn">âœ¨ Reveal Your Wish âœ¨</button>

  <div id="wishCard">
    <h2>Dear <span id="friendDisplay"></span>,</h2>
    <p>ğŸ„ This Christmas, <strong><span id="yourDisplay"></span></strong> wishes you endless joy, magical surprises, and all the cookies you can eat! ğŸªâœ¨</p>
    <p>Keep shining bright and sharing smiles!</p>
    <button id="shareBtn">ğŸ Share this Magical Wish</button>

    <div id="giftContainer">
      <div id="giftBox"></div>
      <div id="giftMessage">ğŸ‰ Congratulations! You unlocked a SECRET CHRISTMAS GIFT! ğŸŒŸ</div>
    </div>
  </div>
</div>

<!-- Short Christmas Jingle -->
<audio id="jingle" src="https://freesound.org/data/previews/331/331912_3248244-lq.mp3" preload="auto"></audio>

<!-- Share Popup with Countdown -->
<div id="sharePopup">
  <h2>ğŸ„ Spread the Christmas Magic! ğŸ„</h2>
  <p>Share this magical wish with your friends to unlock a bonus surprise!</p>
  <div id="countdown">10</div>
  <button id="popupShareBtn">Share Now</button>
</div>

<footer>
  <p>Spread the Christmas magic ğŸ„âœ¨</p>
</footer>

<script>
  // --- Bitly short link ---
  const landingPageURL = "https://bit.ly/magic-xmas2025";

  // Snowflakes
  function createSnowflake() {
    const snow = document.createElement('div');
    snow.classList.add('snowflake');
    snow.textContent = 'â„';
    snow.style.left = Math.random()*window.innerWidth + 'px';
    snow.style.fontSize = `${Math.random()*20+10}px`;
    snow.style.animationDuration = `${Math.random()*5+5}s`;
    document.body.appendChild(snow);
    setTimeout(()=>snow.remove(), 10000);
  }
  setInterval(createSnowflake, 200);

  // Reveal
  document.getElementById('revealBtn').addEventListener('click', () => {
    const your = document.getElementById('yourName').value.trim();
    const friend = document.getElementById('friendName').value.trim();
    if(!your||!friend){ alert("Please enter both names!"); return; }
    document.getElementById('friendDisplay').textContent = friend;
    document.getElementById('yourDisplay').textContent = your;
    document.getElementById('wishCard').style.display = 'block';
    document.getElementById('wishCard').scrollIntoView({behavior:"smooth"});
  });

  // Sharing logic
  let shareCount=0;
  document.getElementById('shareBtn').addEventListener('click', () => {
    const your = document.getElementById('yourName').value.trim();
    const friend = document.getElementById('friendName').value.trim();
    const shareText = `ğŸ„ Look what ${your} sent me! A magical Christmas wish just for me, ${friend}! Get yours here: ${landingPageURL}`;
    window.open(`https://wa.me/?text=${encodeURIComponent(shareText)}`, '_blank');
    shareCount++;
    if(shareCount >= 3) document.getElementById('giftContainer').style.display='block';
  });

  // Gift click â†’ jingle + confetti + popup
  const giftBox = document.getElementById('giftBox');
  giftBox.addEventListener('click', () => {
    giftBox.classList.add('open');
    document.getElementById('giftMessage').style.display='block';
    document.getElementById('jingle').play();
    launchConfetti();
    setTimeout(()=>{
      document.getElementById('sharePopup').style.display='flex';
      startCountdown(10);
    },1000);
  });

  // Popup share
  document.getElementById('popupShareBtn').addEventListener('click', () => {
    const your = document.getElementById('yourName').value.trim();
    const friend = document.getElementById('friendName').value.trim();
    const shareText = `ğŸ„ Look what ${your} sent me! A magical Christmas wish just for me, ${friend}! Get yours here: ${landingPageURL}`;
    window.open(`https://wa.me/?text=${encodeURIComponent(shareText)}`, '_blank');
    document.getElementById('sharePopup').style.display='none';
  });

  // Countdown
  function startCountdown(sec){
    const el = document.getElementById('countdown');
    let c = sec;
    el.textContent = c;
    const iv = setInterval(()=>{
      c--;
      el.textContent = c>0?c:"ğŸ Bonus Unlocked!";
      if(c<=0) clearInterval(iv);
    },1000);
  }

  // Confetti
  function launchConfetti(){
    for(let i=0;i<50;i++){
      const confetti=document.createElement('div');
      confetti.classList.add('confetti-piece');
      confetti.style.left=`${Math.random()*window.innerWidth}px`;
      confetti.style.background=`hsl(${Math.random()*360},100%,50%)`;
      document.body.appendChild(confetti);
      const dur = (Math.random()*2+2)*1000;
      confetti.animate([
        { transform:`translateY(0) rotate(0)` },
        { transform:`translateY(${window.innerHeight}px) rotate(${Math.random()*360}deg)` }
      ], { duration: dur, easing:'linear' });
      setTimeout(()=>confetti.remove(), dur);
    }
  }
</script>

</body>
</html>